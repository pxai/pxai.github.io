---
layout: post
title: "Ocultar banners de servidores"
date: 2006-07-04 09:32:00
categories: coding
---
Ocultar o modificar banners de servidores en linux. Cuando hacemos por ejemplo un "telnet ip 25" podemos ver que servidor de correo esta instalado y su version. Es recomendable ocultar ese banner para que los programas de escaneo de puertos no revelen mas alla de un puerto abierto. Ahora que NMAP tambien saca las versiones de los servidores, habra que ponerse las pilas.

<b>Banner de sendmail</b>
Dentro de sendmail.cf
Código:
O SmtpGreetingMessage=$j Sendmail $v/$Z; $b
Es la directiva que podemos cambiar poniendo un mensaje molon:
Código:
O SmtpGreetingMessage=Your activity is being logged

Que es un saludo que acojona mas.
Tambien podemos cambiar el fichero HELP. (/etc/mail/help)


<b>Banner de apache</b>
AÃƒÂ±adir la directiva:
Código:
ServerTokens ProductOnly

o en su defecto
Código:
ServerTokens Prod

y solo se mostrara: "Apache",sin versiones de php,mod_ssl, ni nada.

<b>Banner de openssh</b>
Solo se puede cambiar si se instala desde codigo fuente. Lo que se puede aÃƒÂ±adir es un banner de saludo o advertencia, pero siempre se muestra la version de openssh.
Dentro del fichero de configuracion /etc/ssh/sshd_config buscamos la directiva Banner
y le indicamos la ruta de un fichero que es donde pondremos el mensaje.



<b>Banner en proftpd</b>
Podemos cambiar el identificador con
Código:
ServerIdent                     on "FTP Server ready."

Y aÃƒÂ±adir un mensajillo con
Código:
ServerName                      "ProFTPD server"


<b>Banner de wuftpd</b>
Dentro de /etc/ftpaccess
Código:
banner  /home/usuario/conectando
(es un fichero) Aunque casi mejor NO usar wuftpd


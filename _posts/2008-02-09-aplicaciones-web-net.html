---
layout: post
title: "Aplicaciones Web.NET"
date: 2008-02-09 10:10:00
categories: coding
---
 <span style="font-weight: bold;">2. Aplicaciones ASP.NET<br /></span>Aplicaciones Web y Ciclo de vida de una pÃ¡gina.<br />.NET es un poco peculiar a la hora de procesar las peticiones web. El protocolo HTTP tiene la peculiaridad de no conservar el estado ya que no mantiene una conexiÃ³n permanente entre cliente y servidor. Por tanto la informaciÃ³n de estado debe guardarse de alguna manera. .NET ofrece un mecanismo llamado viewstate. AsÃ­, surgen dos tipos de peticiones:<br />
<ol>
  <li>La primera peticiÃ³n. Todo lo que se ha metido en un formulario es serializado en una variable oculta.</li>
  <li>El postback. Estas son las peticiones posteriores a la primera. AquÃ­ ya contamos con la variable oculta que antes de nada se deserializa para aplicar cambios en los controles.<br /></li>
</ol><br />Cuando un usuario solicita una pÃ¡gina .NET estos son los pasos que se siguen:<br />
<ol>
  <li>El navegador realiza la <span style="font-weight: bold;">peticiÃ³n</span></li>
  <li><span style="font-weight: bold;">InicializaciÃ³n del framework</span> de la pÃ¡gina: .NET genera todos los controles de la pÃ¡gina .aspx. AquÃ­ es donde .NET dispara el evento page.Init() Si la pÃ¡gina ya habÃ­a sido solicitada deserializa los datos de estado y aplica los cambios pertinentes en campos de texto o selecciones de listas desplegables.<br /></li>
  <li><span style="font-weight: bold;">InicializaciÃ³n del cÃ³digo del usuari</span>o: estamos en el evento Page.Load(), aquÃ­ es donde se puede personalizar la pÃ¡gina o cargar datos en los controles, etc... Â¿CÃ³mo puede un programador distinguir si la pÃ¡gina se carga por primera vez? con <span style="font-family: courier new,courier,monospace;">if (!IsPostBack)</span>. De todas formas conviene tener inicializados los controles desde sus propiedades para no cargar el viewstate.<br /></li>
  <li><span style="font-weight: bold;">Validacion</span>: si hemos incluido controles de validaciÃ³n el formulacio en esta fase se pasarÃ¡n los datos por ese filtro. Todo de forma automÃ¡tica, aunque si queremos preguntar si la pÃ¡gina es vÃ¡lida podemos ver la propiedad <span style="font-family: courier new,courier,monospace;">Page.IsValid</span>.<br /></li>
  <li><span style="font-weight: bold;">Soporte de eventos</span>: una vez la pÃ¡gina estÃ¡ cargada y validada en el servidor se da respuesta a los eventos, que pueden ser de dos tipos:</li>
  <ol>
    <li>Inmediatos: los generados por botones de submit o cualquier control que haga postBack().</li>
    <li>Los eventos de modificaciÃ³n: cuando se modifica el contenido en un control o una se cambia una selecciÃ³n por ejemplo. En caso de tener la propiedad de AutoPostBack a true se ejecutan de inmediato y si no lo hacen al enviar la pÃ¡gina.</li>
  </ol>
  <li><span style="font-weight: bold;">PreRender</span>: esta es la fase previa antes de enviar la respuesta al servidor. AquÃ­ se suele aprovechar para asociar datos a controles.<br /></li>
  <li>EnvÃ­o de respuesta al navegador.</li>
  <li><span style="font-weight: bold;">Limpieza</span>. Tras mandar la respuesta se ejecuta el evento <span style="font-family: courier new,courier,monospace;">Page.UnLoad()</span>. AquÃ­ podemos hacer limpia de objetos, y lo que no hagamos lo harÃ¡ el recolector de basura. Finalmente se ejecutarÃ¡ el evento <span style="font-family: courier new,courier,monospace;">Page.Disposed()</span>.</li>
</ol>AsÃ­ como se suele personalizar el mÃ©todo Page_Load tambiÃ©n podriamos hacer lo propio con los demÃ¡s mÃ©todos que forma parte de este ciclo:<br /><span style="font-family: courier new,courier,monospace;"> private void Page_Init(object sender, System.EventArgs e)</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> {</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> ...</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> }</span><br style="font-family: courier new,courier,monospace;" /><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> private void Page_Load(object sender, System.EventArgs e)</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> {</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> ...</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> }</span><br style="font-family: courier new,courier,monospace;" /> <br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> private void Page_PreRender(object sender, System.EventArgs e)</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> {</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> ...</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> }</span><br style="font-family: courier new,courier,monospace;" /><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> private void Page_UnLoad(object sender, System.EventArgs e)</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> {</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> ...</span><br style="font-family: courier new,courier,monospace;" /><span style="font-family: courier new,courier,monospace;"> }</span><br /><br />Generalmente solo se reescribe el mÃ©todo Page_Load.<br /> <br /><span style="font-weight: bold;"></span>

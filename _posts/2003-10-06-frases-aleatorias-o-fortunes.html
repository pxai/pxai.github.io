---
layout: post
title: "Frases aleatorias o Fortunes" 
date: 2003-10-06 14:45:00 
categories: coding
---
 Un elemento simpÃƒÂ¡tico del mundillo unix era cuando te logeabas en el sistema y te salÃƒÂ­a una frase ingeniosa aleatoria, 
 cosa que se puede hacer con el juego fortune. Fortune es un programa que simplemente muestra una frase sacada de un fichero cargado de frases y proverbios.
Puede ocurrir que al instalarlo no funcione, por ejemplo en un debian. Es un problema
de PATH, ya que el programa fortune se guarda en el clasico directorio /usr/games
Podemos aÃƒÂ±adirlo al path o usar la ruta completa para ejecutarlo.
En cuanto al contenido de las fortunes, a veces te puedes encontrar guiÃƒÂ±os de un frikismo profundo:
<pre>
pello~$ /usr/games/fortune
Klatu barada nikto.
pello~$
</pre>
AdemÃƒÂ¡s de otros refranes, proverbios y frases lapidarias:
<pre>
pello~$ /usr/games/fortune
Eres mÃƒÂ¡s falso que Windows 95 a prueba de fallos.
                -- Yo.
pello~$
</pre>

Para aplicar fortunes de distinto tipo se puede especificar alguno de los ficheros
que se encuentran en /usr/share/games/fortune, por ejemplo, para elegir una frase dentro
del grupo pintadas.fortunes o perl o group:
<pre>
pello@~$ /usr/games/fortune pintadas.fortunes perl work
Estos chicles son un asco.
                -- Pintada sobre un distribuidor de preservativo.
pello@~$
</pre>


Ã‚Â¿Y para meter fortunes a una pÃƒÂ¡gina php?
Seguramente habrÃƒÂ¡ formas mÃƒÂ¡s elegantes de hacerlo, pero puede hacerse
usando un comando de sistema (Cosa que nos funcionarÃƒÂ¡ en caso de que
su uso estÃƒÂ© restringido en el servidor). BastarÃƒÂ­a con este cÃƒÂ³digo:
<code>
<pre>
&lt;?php
// Muestra una frase proverbial aleatoria
$tipos = "sabiduria.fortunes proverbios.fortunes";
$comando = "/usr/safemode/fortune " . $tipos;
$salida = "";

exec($comando, $salida);

// Recogemos el output en $salida
// y vamos sacando cada linea convirtiendo los acentos a su cÃƒÂ³digo HTML
foreach ($salida as $linea) {
   echo htmlentities($linea) ."&lt;br&gt;";
}
?&gt;
</pre>
</code>
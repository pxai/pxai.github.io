---
layout: post
title: "Hibenate many to many con anotaciones" 
date: 2013-07-22 21:39:25 
categories: coding
---
<p>
	&nbsp;</p>
<div>
	Para aquellos que no les guste andar metiendo mano en ficheros XML aqu&iacute; tienen la versi&oacute;n del many-to-many con anotaciones en las clases que mapean las entidades. He retocado el m&eacute;todo main para que al mostrar los usuarios tambi&eacute;n muestre la informaci&oacute;n de los roles correspondientes.&nbsp;</div>
<div>
	&nbsp;</div>
<div>
	Antes que nada tanto en el c&oacute;digo de ayer como en el de hoy he introducido algunos cambios ya que al implicar dos entidades y tal y como gestionaba la Session de hibernate la estaba liando; cada entidad estaba generando su propia sesi&oacute;n a trav&eacute;s del Factory. Ahora el factory provee una &uacute;nica sesi&oacute;n, que es lo que hace el Hibernate de Spring sin ir m&aacute;s lejos y as&iacute; no hay problemas de doble apertura.</div>
<div>
	&nbsp;</div>
<div>
	Aqu&iacute; <a href="http://code.google.com/p/erps-2dam-4vientos/source/browse/trunk/HibernateAnnotationsSamples/">tienes el c&oacute;digo renovado</a>.</div>
<h3>
	User.java</h3>
<div>
	La entitad que representa al usuario</div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">package info.pello.maven.hibernate.HibernateAnnotationsSamples;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">import java.util.HashSet;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import java.util.Set;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Entity;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Table;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Id;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Column;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.CascadeType;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.GeneratedValue;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.JoinColumn;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.JoinTable;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.ManyToMany;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* Represents system User data</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* @author Pello Xabier Altadill Izura</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;*</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;*/</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">@Entity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">@Table(name=&quot;user&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">public class User {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Id</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;id&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@GeneratedValue</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private long id;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;login&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private String login;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;password&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private String password;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;email&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private String email;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; @ManyToMany(cascade = {CascadeType.ALL})</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; @JoinTable(name=&quot;userrole&quot;,&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; joinColumns={@JoinColumn(name=&quot;iduser&quot;)},&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inverseJoinColumns={@JoinColumn(name=&quot;idrole&quot;)})</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; private Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * default constructor</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; */</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;public User () {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;}</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * Constructor with all attributes</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param id</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param login</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param password</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param email</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; */</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;public User(long id, String login, String password, String email) {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.id = id;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.login = login;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.password = password;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.email = email;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;}</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">// GETTERS/SETTERS...﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">}</span></div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<h3>
	Role.java</h3>
<div>
	La entidad que representa un rol de usuario en la aplicaci&oacute;n</div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">package info.pello.maven.hibernate.HibernateAnnotationsSamples;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">import java.util.HashSet;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import java.util.Set;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Entity;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Table;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Id;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.Column;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.GeneratedValue;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import javax.persistence.ManyToMany;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* Represents system User role data</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* @author Pello Xabier Altadill Izura</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;*</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;*/</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">@Entity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">@Table(name=&quot;role&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">public class Role {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Id</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;id&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@GeneratedValue</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private long id;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;name&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private String name;</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Column(name=&quot;description&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;private String description;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; @ManyToMany(mappedBy=&quot;roles&quot;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; private Set&lt;User&gt; users = new HashSet&lt;User&gt;();</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * default constructor</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; */</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;public Role () {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;}</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * Constructor with all attributes</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param id</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param name</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param description</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; */</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;public Role(long id, String name, String description) {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.id = id;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.name = name;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;this.description = description;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;}</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;/* (non-Javadoc)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @see java.lang.Object#toString()</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; */</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;@Override</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;public String toString() {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;return &quot;Role [id=&quot; + id + &quot;, name=&quot; + name + &quot;, description=&quot;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;+ description + &quot;]&quot;;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;}</span></div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">// GETTERS/SETTERS...﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">}</span></div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<h3>
	hibernate.cfg.xml</h3>
<div>
	Los cambios en el fichero hibernate</div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; ﻿ &nbsp;﻿ &nbsp;&lt;!-- Here comes the mapping using annotations in a java class --&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.Customer&quot; /&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.Car&quot; /&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.Insurance&quot; /&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.Product&quot; /&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.ProductType&quot; /&gt;</span></div>
<div>
	<strong><span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.User&quot; /&gt;</span></strong></div>
<div>
	<strong><span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping class=&quot;info.pello.maven.hibernate.HibernateAnnotationsSamples.Role&quot; /&gt;</span></strong></div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<h3>
	HibernateSession.java</h3>
<div>
	Cambios en la clase que provee el factory y ahora tambi&eacute;n la sesi&oacute;n de Hibernate</div>
<div>
	<span style="font-family:courier new,courier,monospace;">/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* @author Pello Xabier Altadill Izura</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* @greetz ;)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;*/</span></div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">import org.hibernate.Session;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import org.hibernate.SessionFactory;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import org.hibernate.cfg.Configuration;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import org.hibernate.service.ServiceRegistry;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">import org.hibernate.service.ServiceRegistryBuilder;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">/**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* provide Hibernate Session factory</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* @author Pello Xabier Altadill Izura</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;* @greetz family</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;*/</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">public class HibernateSession {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; private static final SessionFactory sessionFactory = buildSessionFactory();</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; private static Session session;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; /**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* Based on hibernate.cfg.xml configuration creates</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* a SessionFactory</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* @return the session factory</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;*/</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; private static SessionFactory buildSessionFactory() {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configuration configuration = new Configuration();</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; configuration.configure();</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry(); &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return sessionFactory;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; }</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; /**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* this gives the desired session factory</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* @return hibernate Session Factory instance</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;*/</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; public static SessionFactory getSessionFactory() {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; return sessionFactory;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; }</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; /**</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* gives the current Session</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;* @return Hibernate Session</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp;*/</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; public static Session getSession () {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;if (null == session) {</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;﻿ &nbsp;session = sessionFactory.openSession();</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;}</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;return session;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; }</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">}</span></div>
<div>
	&nbsp;</div>
<h3>
	Main.java</h3>
<div>
	Cambios en el main a la hora de mostrar los users</div>
<div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;/**</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * simple function for reusing</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; * @param userDAOInterface</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp; */</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;public static void showAllUsers (UserDAOInterface userDAOInterface) {</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;﻿ &nbsp;// SELECT ALL DATA</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;List&lt;User&gt; users = userDAOInterface.selectAll();</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;String userDesc = &quot;&quot;;</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; ﻿ &nbsp;System.out.println(&quot;\n--- Users ----- table contents -----------&quot;);</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; for(User user : users) {</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; ﻿ &nbsp;userDesc = &quot;Id: &quot; + user.getId() +&nbsp;</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; ﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;&quot; - Name: &quot; + user.getLogin() +&nbsp;</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; ﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;﻿ &nbsp;&quot; - Roles: &quot; + user.getRoles().toString();</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; ﻿ &nbsp;System.out.println(userDesc);</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div>
	<div>
		&nbsp;</div>
	<div>
		<span style="font-family:courier new,courier,monospace;">&nbsp; &nbsp; &nbsp; &nbsp; System.out.println(&quot;Total users: &quot; + users.size());﻿ &nbsp;</span></div>
	<div>
		<span style="font-family:courier new,courier,monospace;">﻿ &nbsp;}</span></div>
</div>
<h3>
	Output</h3>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">SLF4J: Defaulting to no-operation (NOP) logger implementation</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] Scanning for projects...</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] ------------------------------------------------------------------------</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] Building HibernateSamples 0.0.1-SNAPSHOT</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] ------------------------------------------------------------------------</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO]&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] &gt;&gt;&gt; exec-maven-plugin:1.2.1:java (default-cli) @ HibernateSamples &gt;&gt;&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO]&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] &lt;&lt;&lt; exec-maven-plugin:1.2.1:java (default-cli) @ HibernateSamples &lt;&lt;&lt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO]&nbsp;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">[INFO] --- exec-maven-plugin:1.2.1:java (default-cli) @ HibernateSamples ---</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.annotations.common.Version &lt;clinit&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.Version logVersion</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000412: Hibernate Core {4.2.1.Final}</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000206: hibernate.properties not found</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Environment buildBytecodeProvider</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000021: Bytecode provider name : javassist</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Configuration configure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Configuration getConfigurationInputStream</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000040: Configuration resource: /hibernate.cfg.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: Customer.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: Car.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: Insurance.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:45 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: Product.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: ProductType.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: User.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.cfg.Configuration addResource</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000221: Reading mappings from resource: Role.hbm.xml</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.cfg.Configuration doConfigure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000041: Configured SessionFactory: null</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000402: Using Hibernate built-in connection pool (not for production use!)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000115: Hibernate connection pool size: 1</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000006: Autocommit mode: false</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000401: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/erp]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000046: Connection properties: {user=root, password=****}</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.dialect.Dialect &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.engine.jdbc.internal.LobCreatorBuilder useContextualLobCreation</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000399: Using default transaction strategy (direct JDBC transactions)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:46 PM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000397: Using ASTQueryTranslatorFactory</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.SchemaValidator validate</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000229: Running schema validator</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.SchemaValidator validate</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000102: Fetching database metadata</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.car</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [id, model, registration]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.customer</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [id, email, address, name]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.insurance</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [company, type, cost, idcar]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.product</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [id, idtype, description, name]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.producttype</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [id, name]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.role</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [id, description, name]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.user</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [id, email, login, password]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000261: Table found: erp.userrole</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">jul 22, 2013 11:23:47 PM org.hibernate.tool.hbm2ddl.TableMetadata &lt;init&gt;</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">INFO: HHH000037: Columns: [iduser, idrole]</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: select user0_.id as id1_6_, user0_.login as login2_6_, user0_.password as password3_6_, user0_.email as email4_6_ from user user0_</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">--- Users ----- table contents -----------</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 1 - Name: john_doe</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 2 - Name: juan_nadie</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 3 - Name: bruce_wayne</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 4 - Name: joker</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 8 - Name: changed</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 9 - Name: newuser</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Total users: 6</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Selected Name: john_doe</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: insert into role (name, description) values (?, ?)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: insert into user (login, password, email) values (?, ?, ?)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: insert into userrole (iduser, idrole) values (?, ?)</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Inserted id: 11</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Show data after new insert</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: select user0_.id as id1_6_, user0_.login as login2_6_, user0_.password as password3_6_, user0_.email as email4_6_ from user user0_</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">--- Users ----- table contents -----------</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 1 - Name: john_doe</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 2 - Name: juan_nadie</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 3 - Name: bruce_wayne</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 4 - Name: joker</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 8 - Name: changed</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 9 - Name: newuser</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 11 - Name: newuser</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Total users: 7</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: update user set login=?, password=?, email=? where id=?</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Show data after update</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: select user0_.id as id1_6_, user0_.login as login2_6_, user0_.password as password3_6_, user0_.email as email4_6_ from user user0_</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">--- Users ----- table contents -----------</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 1 - Name: john_doe</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 2 - Name: juan_nadie</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 3 - Name: bruce_wayne</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 4 - Name: joker</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 8 - Name: changed</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 9 - Name: newuser</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 11 - Name: changed</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Total users: 7</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: delete from userrole where iduser=?</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: delete from role where id=?</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: delete from user where id=?</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Hibernate: select user0_.id as id1_6_, user0_.login as login2_6_, user0_.password as password3_6_, user0_.email as email4_6_ from user user0_</span></div>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:courier new,courier,monospace;">--- Users ----- table contents -----------</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 1 - Name: john_doe</span></div>
<div>
	<span style="font-family:courier new,courier,monospace;">Id: 2 - Name: juan_nadie</span></div>
<div>
	<span style="font-family:courier new,cou
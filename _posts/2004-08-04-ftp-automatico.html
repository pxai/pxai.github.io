---
layout: post
title: "FTP automatico"
date: 2004-08-04 20:42:00
categories: coding
---
Este script es simple pero util. sirve para poder hacer transferencias de ficheros por ftp desde tareas programadas, ya que es un ftp NO interactivo.
<br>
El script se llama ftpartomatico.sh
<pre>
#!/bin/sh

# FTP artomatico
# Pello Xabier Atadill Izura
# a este script habra que darle permisos de ejecucion: 'chmod 755 ftpartomatico.sh'
# Bastante util para mover un dump de sql o un tar.gz

echo "Ejecutando `basename $0`"

# parametros modificables
USUARIO=gane1warro
PASSWORD=conquewarro
HOSTREMOTO=lanzadera.hacienda.mec.es
SUBIR=bombalogica.tgz
BAJAR=mideclaracion.pdf

# ahora iniciamos una sesion FTP con las opciones inv
# i : inhabilita la interactividad.
# n : inhabilita el auto-login (eso se hace con un fichero .netrc)
# v : verboso, que sea verboso

ftp -inv &lt;&lt; BUKAERA
open $HOSTREMOTO
user $USUARIO $PASSWORD
pwd
hash
put $SUBIR
get $BAJAR
bye

BUKAERA

## Los comandos FTP manejados han sido:
# open $HOSREMOTO : abre la conexion
# user $USUARIO $PASSWORD : validacion de usuario/contraseÃƒÂ±a
# pwd : muestra el directorio remoto en el que nos encontramos
# hash : habilita las marcas de trafico. Nos da una idea del desarrollo de trafico
# put $SUBIR : subimos un fichero al sitio ftp
# get $BAJAR : bajamos un fichero del sitio ftp
# bye : cerramos conexion (no necesario en este caso)

</pre>
